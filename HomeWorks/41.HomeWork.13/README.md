# 41. LINQ операторы

### Цель

1. Напишите свой метод расширения с названием `Top` для коллекции `IEnumerable`,
принимающий значение `Х` от `1` до `100` и возвращающий заданное количество процентов от выборки с округлением количества элементов в большую сторону.
То есть для списка `var list = new List{1,2,3,4,5,6,7,8,9};`
`list.Top(30)` должно вернуть 30% элементов от выборки по убыванию значений, то есть `[9,8,7]` (33%), а не `[9,8]` (22%).
Если переданное значение больше 100 или меньше 1, то выбрасывать `ArgumentException`.
2. Напишите перегрузку для метода `Top`, которая принимает ещё и поле, по которому будут отбираться топ `Х` элементов.
Например, для `var list = new List{...}`, вызов `list.Top(30, person => person.Age)` должен вернуть 30% пользователей с наибольшим возрастом в порядке убывания оного.

**Описание/Пошаговая инструкция выполнения домашнего задания:**
1. Создайте дженерик метод расширения для `IEnumerable`, возвращающий коллекцию, на которой был вызван;
2. Ограничьте количество элементов выходной коллекции;
3. Создайте дженерик перегрузку метода `Top`, добавив для этого одним из параметров функцию, принимающую `T` и возвращающую `int`;
4. Сделайте код-ревью (напишите свой отзыв) на одну из работ других студентов. Ссылки можете попросить у преподавателя в чате этого ДЗ. Для первого студента этот пункт опциональный (хотя и желательный), так как пока нет других работ.

**Критерии оценки:**

* Пункты 1-2: 5 баллов
* Пункт 3: 4 балла
* Пункт 4: 1 балл

Минимальный проходной балл: 6.

## Решение

```csharp
var list = new List<int> { 1, 2, 3, 4, 5, 6, 7, 8, 9 };

var listPart = list.Top(30);
Console.WriteLine(string.Join(", ", listPart));

var persons = new List<Person>()
{
    new Person("Bjarne", 74),
    new Person("Linus", 55),
    new Person("James", 69),
    new Person("Bill", 69),
    new Person("Guido", 68),
    new Person("Brendan", 63)
};

var personsPart = persons.Top(50, p => p.Age);
Console.WriteLine(string.Join("\n", personsPart));
```

Вывод

```shell
9, 8, 7
Bjarne with age 74
James with age 69
Bill with age 69
```